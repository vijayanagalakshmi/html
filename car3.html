<!DOCTYPE html>
<html>
  <head>
    <script>
    let Car = {
    name:"",
    model:"",
    year:"",
    start: function(name) {
        this.name = name;
        document.getElementById("carstatus").innerHTML = "My "+this.name+" Started";
    }
    };

    function start(){
        //const name = document.getElementById("cname").value;
        if(Car.name === undefined || Car.name === ""){
            document.getElementById("carstatus").innerHTML = "Car has NOT created."
        }else{
            Car.start(Car.name);
        }
        
    }
    let cars = [];
    function create() {
        const car = {};
        const carname = document.getElementById("cname");
        const carmodel = document.getElementById("cmodel");
        const yearnode = document.getElementById("cyear");
        name = carname.value; // = document.getElementById("cname").value
        // model = carmodel.value; // = document.getElementById("cname").value
        
        console.log("car {} {}", name, (name === "") ); // diff bet == & ===
        if(name === undefined || name === ""){
            document.getElementById("carstatus").innerHTML = "Provide valid Car name."
        }else{
            
            car.name = name;
            car.model = carmodel.value;
            car.year = yearnode.value;
        
            
            carname.value = ''; //= document.getElementById("cname").value = ''
            document.getElementById("carstatus").innerHTML = Car.name+" has created."
        }
        cars.push(car);
        console.log(cars);
        
        addCar(car);
    }

    function edit() {
        document.getElementById("cname").value = Car.name;
    }
    function deleteCar() {
        Car.name = '';
        document.getElementById("carstatus").innerHTML = 'Car has removed'
    }
    </script>
</head>
<body>

<h1>CAR Factory</h1>
<label for="factory">Actions:</label>
<ol id="factory">
    <li>Create Car</li>
    <li>Edit Car</li>
    <li>Start Car</li>
</ol>


<form id="form1">
  <label for="cname">Car Name:</label>
  <input type="text" id="cname" name="cname"><br><br>

  <label for="cmodel">Car Model:</label>
  <input type="text" id="cmodel" name="cmodel"><br><br>

  <label for="cyear">Car Year:</label>
  <input type="text" id="cyear" name="cyear"><br><br>
  
  <input type="button" value="Create" onclick="create()">
  <input type="button" value="Edit" onclick="edit()">
  <input type="button" value="Delete" onclick="deleteCar()"> <br><br>
  <input type="button" value="Start" onclick="start()">
  
</form>
<hr>
<div id="carstatus"></div>
<div>
    <table style="border: 1px solid green">
        <thead>
            <tr>
                <td>NAME</td>
                <td>MODEL</td>
                <td>YEAR</td>
            </tr>
        </thead>
        <tbody id="carstable">

        </tbody>
    </table>
</div>
<script>
    function addCar(car){
        //for(i=0; i<cars.length; i++){
            //const c = cars[i];
            const row = document.createElement("tr");
            row.setAttribute("id", Math.random()); //Math.random() gives value between 0, 1.

            

            //Adding car Model
            // const cell2 = document.createElement("td");
            // const tNode2 = document.createTextNode(car.model);
            // cell2.appendChild(tNode2);
            // row.appendChild(cell2);

            addCell(row, car.name);
            addCell(row, car.model);
            addCell(row, car.year);//DRY Rule

            const element = document.getElementById("carstable");
            element.appendChild(row);
        //}
    }
    function addCell(row, cellValue){
        //Adding cell to the row.
        const cell = document.createElement("td"); //<td></td>
        const node = document.createTextNode(cellValue);// ex: Acura
        cell.appendChild(node);//<td>Acura</td>
        row.appendChild(cell); //<tr><td>Acura</td></tr>
    }
</script>
</body>
</html>

